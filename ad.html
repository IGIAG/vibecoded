<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸš¨ Super Mega Ultra Deal! ðŸš¨</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Impact, Arial, sans-serif;
      overflow: hidden;
      position: relative;
      /* Rainbow hueâ€‘rotate filter that continuously cycles */
      animation: hueCycle 5s linear infinite;
    }

    @keyframes hueCycle {
      from { filter: hue-rotate(0deg); }
      to   { filter: hue-rotate(360deg); }
    }

    .ad-container {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #fff;
      text-shadow: 2px 2px 0 #000;
      /* Semiâ€‘transparent dark overlay so text stays readable */
      background-color: rgba(0, 0, 0, 0.4);
      /* No solid backgroundâ€‘color animation â€“ we want the GIF to show */
      position: relative;
    }

    .marquee {
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
    }

    .marquee span {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 15s linear infinite;
    }

    @keyframes marquee {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(-100%, 0); }
    }

    .blink {
      animation: blink 0.8s steps(2, start) infinite;
    }

    @keyframes blink {
      to { visibility: hidden; }
    }

    .button {
      margin-top: 20px;
      padding: 15px 30px;
      font-size: 2rem;
      background: #ff69b4;
      border: 3px solid #fff;
      color: #000;
      cursor: pointer;
      text-transform: uppercase;
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    /* Close button */
    .close-btn {
      position: absolute;
      top: 5px;
      right: 5px;
      background: #000;
      color: #fff;
      border: none;
      font-size: 1rem;
      padding: 2px 6px;
      cursor: pointer;
      z-index: 2; /* ensure it sits above ad content */
    }
  </style>
</head>
<body>
  <button class="close-btn">âœ–</button>
  <div class="ad-container">
    <div class="marquee"><span class="blink">ðŸ”¥ Hot code paths in your area! ðŸ”¥</span></div>
    <h1 class="blink">FREE DEBUG SESSION â€“ CLAIM NOW!</h1>
    <p class="blink">Your code is screaming? Get a complimentary debug session and squash those bugs! <strong>LIMITED TIME</strong> offer.</p>
    <button class="button">CLICK HERE TO DEBUG!</button>
  </div>

  <script>
    // Close button hides the iframe that contains this ad
    const closeBtn = document.querySelector('.close-btn');
    closeBtn.addEventListener('click', () => {
      const iframe = window.frameElement;
      if (iframe) {
        iframe.style.display = 'none';
      }
    });
  </script>

  <script>
    // Fetch a random "shitpost" GIF from Tenor and set it as the ad background
    async function setAdBackground() {
      const apiKey = 'LIVDSRZULELA'; // Public demo key
      const query = 'shitpost';
      const limit = 20;
      const url = `https://g.tenor.com/v1/search?q=${encodeURIComponent(query)}&key=${apiKey}&limit=${limit}`;

      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error('Network response was not ok');
        const data = await response.json();

        if (!data.results || data.results.length === 0) {
          console.warn('No GIFs found for query:', query);
          return;
        }

        // Pick a random GIF from the results
        const randomIndex = Math.floor(Math.random() * data.results.length);
        const gif = data.results[randomIndex];
        const media = gif.media[0];
        const gifUrl = (media && media.mediumgif && media.mediumgif.url) ||
                       (media && media.gif && media.gif.url) ||
                       null;

        if (gifUrl) {
          const container = document.querySelector('.ad-container');
          container.style.backgroundImage = `url("${gifUrl}")`;
          container.style.backgroundSize = 'cover';
          container.style.backgroundPosition = 'center';
          container.style.backgroundRepeat = 'no-repeat';
        }
      } catch (err) {
        console.error('Failed to fetch GIF:', err);
      }
    }

    // Run on load
    setAdBackground();
  </script>
</body>
</html>
